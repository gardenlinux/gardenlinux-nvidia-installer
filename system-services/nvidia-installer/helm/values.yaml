global:
  imageRepository: "build-releases.common.repositories.cloud.sap"
  imagePullSecret:
    location: cluster-secrets/docker-registry-gcr-eu

debug: false

imagePullSecrets:

nvidiaInstaller:
  installRBAC: false
  # installerImage actual value should be set in mlf-gitops cluster-service-list/templates/nvidia-installer-XXX.yaml
  installerImage: com.sap.ai/nvidia-installer-<gardlenlinux-version>-<driver version>
  # Do not edit installerTag - this is generated from a patch in component.yaml
  installerTag: 1.5.37
  # Do not edit kubectlImage - this is generated from a patch in component.yaml
  kubectlImage: com.sap.ai/kubectl:1.22.7-sap2
  # Do not edit pauseImage - this is generated from a patch in component.yaml
  pauseImage: com.sap.ai/pause:3.1.0-sap2
  hostDriverPath: /opt/drivers
  nodeAffinity:
    requiredDuringSchedulingIgnoredDuringExecution:
      nodeSelectorTerms:
      - matchExpressions:
        - key: gpu
          operator: Exists
        - key: os-version
          operator: In
          values: ["318.8.0"]
          # Do not edit gardenlinuxVersion above - master value is in gardenlinux-dev/component.yaml context section.
  tolerations:
  - key: "" # An empty key with operator Exists matches all keys, values and effects which means this will tolerate everything.
    operator: Exists
    effect: NoSchedule
  - key: ""
    operator: Exists
    effect: NoExecute
  - key: CriticalAddonsOnly
    operator: Exists
  installerResources:
    requests:
      cpu: 10m
      memory: 10Mi
    limits:
      cpu: 8
      memory: 1Gi
  pauseResources:
    requests:
      cpu: 10m
      memory: 10Mi
    limits:
      cpu: 10m
      memory: 10Mi
  environment:
   - name: IGNORE_MISSING_MODULE_SYMVERS
     value: "1"

nvidiaDevicePlugin:
  # Do not edit devicePluginImage - this is generated from a patch in component.yaml
  devicePluginImage: com.sap.ai/nvidia-gpu-device-plugin:0.0.1-sap1
  hostDevicePluginPath: /var/lib/kubelet/device-plugins
  nodeSelector: {}
  nodeAffinity:
    requiredDuringSchedulingIgnoredDuringExecution:
      nodeSelectorTerms:
      - matchExpressions:
        - key: gpu
          operator: Exists
  tolerations:
  - key: "" # An empty key with operator Exists matches all keys, values and effects which means this will tolerate everything.
    operator: Exists
    effect: NoSchedule
  - key: ""
    operator: Exists
    effect: NoExecute
  - key: CriticalAddonsOnly
    operator: Exists
  resources:
    requests:
      cpu: 10m
      memory: 10Mi
    limits:
      cpu: 50m
      memory: 10Mi
