dockerRegistry:
  overwrite: false

debug: false
# Do not edit gardenlinuxVersion - master value is in gardenlinux-dev/component.yaml context section.
gardenlinuxVersion: 184.0.0

imagePullSecrets:
# - name: hello
# - name: bla

nvidiaInstaller:
  # Do not edit installerImage - this is generated from a patch in component.yaml
  installerImage: com.sap.ai/nvidia-installer
  # Do not edit installerTag - this is generated from a patch in component.yaml
  installerTag: 184.0.0-450.80.02-sap2
  # nodeSelector: {"os": "gardenlinux"}

  # Do not edit driverVersion - master value is in component.yaml context section.
  driverVersion: "450.80.02"
  # Do not edit kernelVersion - master value is in gardenlinux-dev/component.yaml context section.
  kernelVersion: "5.4.0-5-cloud-amd64"
  hostDriverPath: /opt/drivers
  # We use a combination of nodeAffinity and nodeSelector
  # nodeAffinity is used for all GPU nodes, and may be overridden in mlf-deploy (e.g. to support pools of different GPU types)
  # nodeSelector is used per-OS to select which OS-specific installation method is used
  nodeAffinity:
    requiredDuringSchedulingIgnoredDuringExecution:
      nodeSelectorTerms:
      - matchExpressions:
        - key: gpu
          operator: Exists
        - key: os-version
          operator: In
          values: ["184.0.0"]
          # Do not edit gardenlinuxVersion above - master value is in gardenlinux-dev/component.yaml context section.
  tolerations:
   - key: "nvidia.com/gpu"
     operator: "Exists"
     effect: "NoSchedule"
  resources:
    requests:
      cpu: 10m
      memory: 10Mi
    limits:
      cpu: 50m
      memory: 10Mi
  environment:
   - name: IGNORE_MISSING_MODULE_SYMVERS
     value: "1"

nvidiaDevicePlugin:
  image: k8s.gcr.io/nvidia-gpu-device-plugin@sha256
  tag: 08509a36233c5096bb273a492251a9a5ca28558ab36d74007ca2a9d3f0b61e1d
  pauseImage: k8s.gcr.io/pause-amd64
  pauseTag: 3.1
  hostDevicePluginPath: /var/lib/kubelet/device-plugins
  nodeSelector: {}
  nodeAffinity:
    requiredDuringSchedulingIgnoredDuringExecution:
      nodeSelectorTerms:
      - matchExpressions:
        - key: gpu
          operator: Exists
  tolerations:
   - key: CriticalAddonsOnly
     operator: Exists
   - key: "nvidia.com/gpu"
     operator: "Exists"
     effect: "NoSchedule"
  resources:
    requests:
      cpu: 10m
      memory: 10Mi
    limits:
      cpu: 50m
      memory: 10Mi
